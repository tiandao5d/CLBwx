<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>图文详情</title>
<link rel="stylesheet" type="text/css" href="../../css/owl.carousel.css"/>
<link rel="stylesheet" type="text/css" href="../../css/style.css?v=20180131"/>
<style>
.xlad-img-box img {
	width: 100%;
	vertical-align: top;
}
.xlad-product-str {
	padding: 15px;
}
</style>
</head>
<body>
<div class="xlnav-box xlele-box">
	<div class="xlnav-content xlele-content">
		<img src="../../image/icon/titleBG.jpg">
		<h1 class="xlnav-title">图文详情</h1>
	</div>
</div>
<div class="xlbody-box">
	<div id="imageListBox"></div>
</div>
<script src="../../script/jquery-1.12.4.min.js"></script>
<script src="../../script/owl.carousel.min.js"></script>
<script src="../../script/common.js?v=20180131"></script>
<script src="../../script/defaultxl.js?v=20180131"></script>
<script>
"use strict";
$(function() {
	globalData.loadReady();//页面加载完成执行
	pageDataInit();//页面数据初始化
	domEventFn();//dom初始化事件绑定
	reloadDataFn();//所有需要从服务器加载的数据请求
});

//页面启动时，数据初始化
function pageDataInit(){
	globalData.detailsImg = JSON.parse(decodeURIComponent(globalData.pageParam.detailsImg) + '');
	globalData.detailsParam = decodeURIComponent(globalData.pageParam.detailsParam);
}
//dom事件绑定
function domEventFn(){
}


//所有需要从服务器加载的数据请求
function reloadDataFn(){
	pageImageList();
}

//刷新之后执行函数
function refreshAfterFn(){
	if(globalData.refreshComplete >= globalData.requestNum){
		globalData.refreshComplete = 0;//用来记录请求完成次数
		globalData.requestNum = 0;//用来记录有多少次用户请求
		if(globalData.isRefresh == true){
			globalData.isRefresh = false;
			Common.toast('刷新成功');
		}
	}
}

//图片参数显示
function pageImageList(){
	var str = '';
	$.each(globalData.detailsImg, function(index, obj){
		str += '<div class="xlad-img-box"><img src="' + Common.getImageUrl(obj.imagePath) + '"/></div>';
	});
	str += '<div class="xlad-product-str">' + globalData.detailsParam + '</div>';
	document.getElementById('imageListBox').innerHTML = str;
}
</script>
</body>
</html>
